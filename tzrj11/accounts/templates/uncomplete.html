{% extends "mainbase.html" %}

{% load static %}
{% block title %}السلات-الغير مكتملة{% endblock %}
{% block stylelink %}{% static 'css/slat.css' %}{% endblock %}

{% block content %}
<div class="content_page">

    <div id="all-notfications" class="notfs"></div>

    <!-- Navigation section -->
    <div class="notf-type">
        <div style="margin-top: 5px;" onclick="window.location.href='{% url 'sla' %}'" class="notf-typeico">
            <img class="nicon-img" src="{% static 'images/shop-solid.svg' %}" alt="">
            <a class="content-link" href="{% url 'sla' %}">جميع السلات</a>
        </div>

        <br><hr>

        <div onclick="window.location.href='{% url 'notresponse_sla' %}'" class="notf-typeico">
            <img class="nicon-img" src="{% static 'images/cart-shopping-solid.svg' %}" alt="">
            <a class="content-link" href="{% url 'notresponse_sla' %}">لم يتم التسليم</a>
        </div>

        <br>

        <div onclick="window.location.href='{% url 'uncomp_sla' %}'" class="notf-typeico">
            <img style="margin-right: 25px;" class="nicon-img" src="{% static 'images/truck-fast-solid.svg' %}" alt="">
            <a class="content-link" href="{% url 'uncomp_sla' %}">غير مكتملة</a>
        </div>

        <br><hr><br>

        <!-- زر فتح المودال -->
        <button onclick="openModal()" style="align-items: center; background-color: rgb(0, 119, 225); border: 1px solid rgb(171, 205, 235); border-radius: 15px; width: 170px; height: 40px; display: flex; margin-right: 50px;">
            <img style="margin-right: 20px; width: 25px; height: 25px;" src="{% static 'images/cart-plus-solid.svg' %}" alt="">
            <h1 style="font-size: 20px; font-family: Zain, sans-serif; color: white; margin-right: 8px; margin-top: 3px;">سلة جديدة</h1>
        </button>
    </div>
</div>

<!-- نافذة منبثقة محسنة بالأبيض والأزرق -->
<div id="newCartModal" class="modal" style="display:none; position:fixed; top:0; right:0; bottom:0; left:0; background:rgba(0,0,0,0.6); z-index:1000;">
    <div style="background:white; width:90%; max-width:1000px; margin:50px auto; border-radius:15px; padding:20px; display:flex; flex-direction:row; box-shadow: 0 0 15px rgba(0,0,0,0.3); border: 2px solid #0077E1;">
        <!-- النصف الأول: نموذج بيانات السلة -->
        <div style="flex:1; padding:20px; border-left: 1px solid #0077E1;">
            <h2 style="text-align:center; color:#004B88;">إضافة سلة جديدة</h2>
            <form>
                <label style="color:#004B88;">رقم السلة:</label>
                <input type="text" name="cart_number" class="form-control" required><br>
                
                <label style="color:#004B88;">اسم المتجر:</label>
                <input type="text" name="store_name" class="form-control" required><br>
                
                <label style="color:#004B88;">موعد التسليم:</label>
                <input type="datetime-local" name="delivery_datetime" class="form-control" required><br>
                
                <label style="color:#004B88;">موعد الدفع:</label>
                <input type="datetime-local" name="payment_datetime" class="form-control" required><br>

                <button type="button"  class="btn btn-primary" style="margin-top:10px; background-color:#0077E1; border:none;">اختيار العملاء</button>
            </form>
        </div>

        <!-- النصف الثاني: قائمة العملاء -->
        <div style="flex:1; padding:20px;">
            <h3 style="text-align:center; color:#004B88;">قاعدة بيانات العملاء</h3>
            <div id="clientsList" style="background-color: #f0f8ff; border: 1px solid #cce4ff; border-radius: 10px; padding: 10px;">
                <!-- ستتم تعبئة العملاء هنا لاحقاً -->
                <p style="color:#555; text-align:center;">لا يوجد عملاء حالياً</p>
            </div>
        </div>
    </div>
</div>

<script>
    function openModal() {
        document.getElementById('newCartModal').style.display = 'block';
    }

    window.onclick = function(event) {
        const modal = document.getElementById('newCartModal');
        if (event.target === modal) {
            modal.style.display = "none";
        }
    }
</script>
{% endblock %}
