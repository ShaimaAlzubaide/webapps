{% load static %}

<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>تسجيل المندوب</title>

     <!-- استيراد Bootstrap & Bootstrap Icons -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
     <link href="https://fonts.googleapis.com/css2?family=Zain:ital,wght@0,200;0,300;0,400;0,700;0,800;0,900;1,300;1,400&display=swap" rel="stylesheet">

     <style>
            body {
     font-family: "Zain", sans-serif;
     margin: 0;
     padding: 0;
     height: 100vh;
     /*background: linear-gradient(to top, white, rgb(0,119,225),rgb(0,119,225));*/
     background:rgb(0,119,225);
     background-size: cover;
     background-position: center;
     background-attachment: fixed;
     color: #fff;
     text-align: center;
 }
         
 
 .card {
    margin-top:25px;
             background: white;
             border:2px soild rgb(0, 0, 0);
             backdrop-filter: blur(10px);
             border-radius: 15px;
             padding: 30px;
             box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
             width: 500px;
             height:900px;
         }
 
 /* عند التمرير على البطاقة */
 .card:hover {
     transform: scale(1.05); /* تكبير خفيف عند التفاعل */
     box-shadow: 0px 20px 50px rgba(0, 0, 0, 0.3); /* تحسين الظل */
 }
 
 /* تحسين الحقول داخل البطاقة */
 .form-contro {
             background: rgba(255, 255, 255, 0.2);
             border: none;
             border-radius: 10px;
             color: white;
             padding: 12px;
         }
 /* تأثير التركيز على الحقل عند التفاعل معه */
 .form-control:focus {
             background: rgba(255, 255, 255, 0.3);
             box-shadow: 0 0 10px rgba(68, 94, 255, 0.6);
         }
         .btn-back {
     display: inline-flex;
     align-items: center;
     justify-content: center;
     padding: 12px 30px;
     font-size: 18px;
     font-weight: bold;
     text-decoration: none;
     border-radius: 50px;
     background: transparent; /* شفافية كاملة */
     color: white;
     border: 2px solid rgba(255, 255, 255, 0.5); /* حدود شفافة */
     backdrop-filter: blur(10px); /* تأثير زجاجي */
     transition: all 0.3s ease-in-out;
     position: absolute;
     top: 20px;
     left: 20px;
 }
 
 /* تأثير عند التمرير */
 .btn-back:hover {
     background: rgb(255, 255, 255); /* شفافية عند التفاعل */
     border-color: rgb(0, 0, 0); /* تحسين وضوح الحدود */
     transform: scale(1.05); /* تكبير خفيف */
     color:rgb(0, 0, 0);
 }
 .btn-back {
     position: fixed;
     top: 300px;
     left: 600px;
     background:rgb(2,16,63);
     border:2px soild rgb(255,255);
 }
 
 
 /* تحسين الأزرار داخل البطاقة */
 .btn-custom {
     display: inline-flex;
     align-items: center;
     justify-content: center;
     padding: 15px 40px;
     font-size: 20px;
     font-weight: bold;
     text-transform: uppercase;
     text-decoration: none;
     border: none;
     border-radius: 50px;
     position: relative;
     overflow: hidden;
     
     background: transparent; /* خلفية شفافة بالكامل */
     color: white;
     border: 2px solid rgba(255, 255, 255, 0.5); /* حدود شفافة */
     
     backdrop-filter: blur(10px); /* تأثير الضباب */
     box-shadow: 0 0 15px rgba(255, 255, 255, 0.2); /* ظل خفيف */
     transition: all 0.4s ease-in-out;
 }
         .btn-save {
             background: linear-gradient(45deg, #4e9cff, #1e90ff);
         }
 
 /* تأثير عند التمرير على الأزرار */
 .btn-custom:hover {
    /* background: rgba(255, 255, 255, 0.2);  شفافية خفيفة عند التمرير */
     box-shadow: 0 0 25px rgba(255, 255, 255, 0.4); /* تحسين الظل */
     border-color: rgba(255, 255, 255, 0.8); /* زيادة وضوح الحدود */
     transform: scale(1.05); /* تكبير بسيط عند التفاعل */
 }
 
 /* تحسين الأيقونات داخل البطاقة */
 .upload-icon {
     background: rgba(0, 0, 0, 0.6); /* خلفية داكنة شفافة حول الأيقونة */
     color: white;
     padding: 10px;
     border-radius: 50%;
     position: absolute;
     bottom: 10px;
     right: 10px;
     cursor: pointer;
     font-size: 18px;
     box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.2);
     transition: all 0.3s ease;
 }
 
 /* تأثير عند التمرير على الأيقونات */
 .upload-icon:hover {
     background: rgba(0, 0, 0, 0.8); /* تحسين الظل وتدرج الأيقونة عند التفاعل */
     transform: translateY(-3px); /* تحريك الأيقونة للأعلى بشكل خفيف */
 }
 
 
         .btn-custom {
             width: 100%;
             padding: 12px;
             font-size: 18px;
             font-weight: bold;
             border-radius: 10px;
             border: none;
             color: white;
             background: rgba(0, 123, 255, 0.6);
             transition: all 0.3s ease-in-out;
         }
         .btn:hover::before {
     opacity: 1;
 }
 .btn:active {
     transform: scale(0.92);
     box-shadow: 0 0 20px rgba(0, 119, 255, 1), 0 0 40px rgba(0, 119, 255, 0.6);
 }
 /* نبض خفيف */
 @keyframes pulse {
     0% { box-shadow: 0 0 10px rgba(0, 119, 255, 0.4); }
     50% { box-shadow: 0 0 20px rgba(0, 119, 255, 0.7); }
     100% { box-shadow: 0 0 10px rgba(0, 119, 255, 0.4); }
 }
         .btn-save {
             background: rgba(0, 123, 255, 0.3);
         }
 
         .btn-continue {
             background: rgba(40, 167, 69, 0.3);
             margin-top: 15px;
         }
 
         .error-message {
             color: #FFD700;
             font-size: 14px;
             display: none;
             margin-top: 5px;
         }
     
 
         h2 {
     font-family:"Zain", sans-serif ; /* خط عربي حديث */
     font-size: 32px; /* حجم مناسب */
     font-weight: 700; /* وزن واضح وثقيل */
     color:rgb(2, 16, 63); /* لون أنيق */
     text-transform: none; /* إبقاء الأحرف طبيعية */
     letter-spacing: 1px; /* تقليل التباعد */
     backdrop-color:white;
     display: inline-block;
     padding-bottom: 5px;
 }
 .modal-content {
        background: rgba(38, 117, 252, 0.4); /* تدرج لوني مع شفافية */
        border-radius: 20px;
        border: none;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); /* ظل خفيف */
        color: white;
        backdrop-filter: blur(10px); /* تأثير الضبابية على الخلفية */
    }

    .modal-header {
       /* border-bottom: 2px solid rgba(255, 255, 255, 0.6);  حدود رقيقة مع الشفافية */
    }

    .modal-title {
        font-family: 'Tajawal', sans-serif;
        font-weight: 600;
        font-size: 24px;
    }

    .profile-pic-container {
        width: 120px;
        height: 120px;
        margin: 0 auto;
        position: relative;
    }
    .profile-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .upload-icon {
        background: rgba(0, 0, 0, 0.6); /* شفافية الأيقونة */
        color: white;
        padding: 12px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 24px;
        bottom: -5px;
        right: -5px;
        transition: all 0.3s ease;
    }
    .upload-icon:hover {
        background: rgba(0, 0, 0, 0.8);
        transform: translateY(-5px); /* رفع الأيقونة عند التفاعل */
    }

    .custom-input {
       /* background: rgba(255, 255, 255, 0.3);  شفافية خلفية المدخلات */
        border-radius: 10px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        color: white;
        padding: 15px;
        font-size: 16px;
    }
    .custom-input:focus {
       /* background: rgba(255, 255, 255, 0.4);*/
        border-color: #2575fc;
        box-shadow: 0 0 10px rgba(38, 117, 252, 0.6);
    }

    .modal-body {
        padding: 20px;
    }

    .modal-footer button {
        font-weight: bold;
    }
    .alert {
        font-size: 16px;
        margin-top: 20px;
        border-radius: 10px;
        padding: 15px;
    }

    .btn-success {
        background: #2575fc;
        border: none;
        font-weight: bold;
    }

    .btn-success:hover {
        background: #6a11cb;
    }
   /* تصميم عصري للإشعار */
.alert-box {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(135deg, #00c853, #009688);
    color: #fff;
    padding: 15px 25px;
    border-radius: 8px;
    box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.2);
    font-size: 18px;
    font-weight: bold;
    display: none;
    align-items: center;
    gap: 10px;
    z-index: 9999;
    transition: opacity 0.5s ease-in-out;
    cursor: pointer;
}

/* أيقونة الإشعار */
.alert-box i {
    font-size: 22px;
}

/* تأثيرات عند الظهور والاختفاء */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeOut {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-20px); }
}
.fadeIn {
    animation: fadeIn 0.5s forwards;
}
.fadeOut {
    animation: fadeOut 0.5s forwards;
}

/* تصميم عصري زجاجي للإشعار */
.alert-box {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
   /* background: rgba(255, 255, 255, 0.15);  شفافية زجاجية */
    backdrop-filter: blur(10px);
    color: #fff;
    padding: 15px 25px;
    border-radius: 12px;
    box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.2);
    font-size: 18px;
    font-weight: bold;
    display: none;
    align-items: center;
    gap: 10px;
    z-index: 9999;
    transition: opacity 0.5s ease-in-out;
    cursor: pointer;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

/* أيقونة الإشعار */
.alert-box i {
    font-size: 22px;
}

/* تأثيرات عند الظهور والاختفاء */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeOut {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-20px); }
}
.fadeIn {
    animation: fadeIn 0.5s forwards;
}
.fadeOut {
    animation: fadeOut 1s forwards;
}
.manage-img{
    width:250px;
    height:200px;
    margin-left:100px;
 }
     </style>
</head>
<body>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card shadow-lg rounded-3">
                    <img class="manage-img" src="{% static 'images\agentreg.webp' %}" alt="home Image">


                    <div class="card-header text-center">
                        <h2>تسجيل المندوب</h2>
                    </div>
                    <div class="card-body">
                        <form id="registerForm" method="POST">
                            {% csrf_token %}
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-person"></i></span>
                                    <input type="text" id="name" name="name" class="form-control" placeholder="الاسم الكامل" required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-envelope"></i></span>
                                    <input type="email" id="email" name="email" class="form-control" placeholder="البريد الإلكتروني" required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-phone"></i></span>
                                    <input type="text" id="phone" name="phone" class="form-control" placeholder="رقم الهاتف" required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-lock"></i></span>
                                    <input type="password" id="password" name="password" class="form-control" placeholder="كلمة المرور" required>
                                </div>
                                <span class="error-message" id="passwordError">يجب أن تحتوي كلمة المرور على 6 أحرف على الأقل.</span>
                            </div>

                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
                                    <input type="password" id="confirm_password" name="confirm_password" class="form-control" placeholder="تأكيد كلمة المرور" required>
                                </div>
                                <span class="error-message" id="confirmPasswordError">كلمتا المرور غير متطابقتين.</span>
                            </div>

                            <button type="submit" class="btn btn-custom btn-save" id="saveBtn">حفظ</button>
                            <button type="button" class="btn btn-custom btn-continue" id="continueBtn" data-bs-toggle="modal" data-bs-target="#profileModal">
                            متابعة
                            </button>
                            <a href="javascript:history.back()" class="btn-back">
                                <i class="bi bi-arrow-right"></i> العودة
                            </a>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="profileModalLabel">إكمال الملف الشخصي</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
    
                <div class="modal-body text-center">
                    <div class="profile-upload mb-3 position-relative d-inline-block">
                        <input type="file" id="profileImage" class="d-none" accept="image/*" onchange="previewImage(event)">
                        <div class="profile-pic-container position-relative">
                            <img id="imagePreview" src="https://via.placeholder.com/120/cccccc/ffffff?text=Profile" class="rounded-circle shadow profile-img" alt="صورة البروفايل">
                            <label for="profileImage" class="upload-icon position-absolute">
                                <i class="bi bi-camera"></i>
                            </label>
                        </div>
                    </div>
    
                    <div class="mb-3">
                        <input type="text" id="publicName" class="form-control" placeholder="الاسم العام" required>
                    </div>
                    <div class="mb-3">
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa-solid fa-money-bill-trend-up"></i></span>
                            <input type="text" id="name" name="name" class="form-control" placeholder="حساب الايداع  " required>
                        </div>
                    </div>
    
                    <div class="mb-3">
                        <textarea id="description" class="form-control" rows="3" placeholder="اكتب وصفًا عن نفسك..." required></textarea>
                    </div>
                </div>
 <!-- إشعار الحفظ العصري -->
                <div id="customAlert" class="alert-box" onclick="hideAlert()"></div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إلغاء</button>
                    <button  type="button" class="btn btn-success" onclick="saveProfile()">حفظ</button>
                    <button type="button" class="btn btn-success" onclick="window.location.href='{% url 'wellcome' %}'">تخطي</button>

                </div>
            </div>
        </div>
    </div>
    
 
    <script>
       // معاينة الصورة عند الاختيار
    function previewImage(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function() {
                document.getElementById('imagePreview').src = reader.result;
            };
            reader.readAsDataURL(file);
        }
    }
        // حفظ الملف الشخصي
    function saveProfile() {
        const name = document.getElementById('publicName').value;
        const description = document.getElementById('description').value;

        // إضافة وظائف الحفظ أو إرسال البيانات هنا
        console.log('اسم عام:', name);
        console.log('وصف:', description);

        // إظهار رسالة الحفظ
        document.getElementById('successMessage').style.display = 'block';
          // إغلاق الـ Modal بعد 2 ثانية
          setTimeout(function() {
            var modal = new bootstrap.Modal(document.getElementById('profileModal'));
            modal.hide();
        }, 5000);
    }
    </script>
    
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function saveProfile() {
        let name = document.getElementById("publicName").value.trim();
        let description = document.getElementById("description").value.trim();
    
        if (name === "" || description === "") {
            showAlert("⚠️ يرجى ملء جميع الحقول!", "error");
            return;
        }
    
        showAlert("✅ تم حفظ البيانات بنجاح!", "success");
        
        // إغلاق المودال بعد الحفظ
        document.getElementById("profileModal").querySelector(".btn-close").click();
    }
    
    function showAlert(message, type) {
        let alertBox = document.getElementById("customAlert");
        
        if (type === "error") {
            alertBox.style.background = "linear-gradient(135deg, #d32f2f, #b71c1c)";
        } else {
            alertBox.style.background = "linear-gradient(135deg, #00c853, #009688)";
        }
        
        alertBox.innerHTML = `<i class="${type === 'error' ? 'fas fa-exclamation-circle' : 'fas fa-check-circle'}"></i> ${message}`;
        alertBox.style.display = "flex";
    
        setTimeout(() => { alertBox.style.display = "none"; }, 5000);
    }
    
    </script>

</body>
</html>
