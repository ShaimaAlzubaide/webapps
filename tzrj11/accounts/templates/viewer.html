{% extends "mainbase.html" %}
{% load static %}
{% block title %}التخفيضات{% endblock %}
{% block stylelink %}{% static 'css/viwers.css' %}{% endblock %}

<style>
    .btn {
      
        
        background-color: #0077E1;
        color: white;
        border: none;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        font-size: 32px;
        text-align: center;
        line-height: 60px;
       
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        z-index: 10000;
    }

    .modal {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.5);
    }

    .modal-content {
        background: white;
        padding: 20px;
        width: 400px;
        margin: 5% auto;
        border-radius: 8px;
        direction: rtl;
        position: relative;
        z-index: 10000;
    }

    .modal-content input,
    .modal-content select {
        width: 100%;
        margin-bottom: 10px;
        padding: 8px;
    }

    .modal-content button {
        padding: 10px;
        width: 100%;
        background-color: rgb(0, 119, 225);
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .close-btn {
        position: absolute;
        left: 10px;
        top: 10px;
        font-size: 24px;
        cursor: pointer;
        color: black;
    }

    .viewer_list {
        min-height: 100vh;
        padding: 20px;
    }
</style>

{% block content %}
<div class="viewer_list">
    <div class="container" id="offerContainer">
      
       
        <button class="btn" onclick="openOfferModal()">تخفيض جديد+</button>
 &nbsp; &nbsp;
 &nbsp;
 &nbsp;

          <h2>هنا قاعدة بيانات offers</h2>

    </div>
</div>

<!-- زر زائد عائم -->

<!-- نافذة منبثقة لإضافة عرض -->
<div id="offerModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeOfferModal()">&times;</span>
        <h3>إضافة تخفيض جديد</h3>
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <label>صورة التخفيض:</label>
            <input type="file" name="discount_image" accept="image/*" required>

            <label>نوع التخفيض:</label>
            <input type="text" name="discount_type" placeholder="مثال: وفر 50% من السعر" required>

            <label>المتجر:</label>
            <select name="store" required>
                <option value="">اختر المتجر</option>
                <option value="JEEEY">JEEEY</option>
                <option value="OKY">OKY</option>
                <option value="Yemen Deal">Yemen Deal</option>
                <option value="ورزان">ورزان</option>
                <option value="اكسترا">اكسترا</option>
                <option value="book time">book time</option>
            </select>

            <label>سعر التخفيض:</label>
            <input type="number" name="discount_price" placeholder="أدخل السعر بعد التخفيض" required>

            <label>العدد المتاح:</label>
            <input type="number" name="available_quantity" placeholder="مثال: 100" required>

            <button type="submit">إضافة التخفيض</button>
        </form>
    </div>
</div>

<script>
    function openOfferModal() {
        document.getElementById("offerModal").style.display = "block";
    }

    function closeOfferModal() {
        document.getElementById("offerModal").style.display = "none";
    }

    // إغلاق النافذة عند الضغط خارجها
    window.onclick = function(event) {
        const modal = document.getElementById("offerModal");
        if (event.target === modal) {
            modal.style.display = "none";
        }
    };
</script>
{% endblock %}

